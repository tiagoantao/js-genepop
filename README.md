# js-genepop
A Parser for the Genepop format in JavaScript (TypeScript)

[![Build Status](https://travis-ci.org/tiagoantao/js-genepop.svg?branch=master)](https://travis-ci.org/tiagoantao/js-genepop) [![Coverage Status](https://coveralls.io/repos/github/tiagoantao/js-genepop/badge.svg?branch=master)](https://coveralls.io/github/tiagoantao/js-genepop?branch=master) [![Code Climate](https://codeclimate.com/github/tiagoantao/js-genepop/badges/gpa.svg)](https://codeclimate.com/github/tiagoantao/js-genepop) [![bitHound Overall Score](https://www.bithound.io/github/tiagoantao/js-genepop/badges/score.svg)](https://www.bithound.io/github/tiagoantao/js-genepop)

[![dependencies Status](https://david-dm.org/tiagoantao/js-genepop/status.svg)](https://david-dm.org/tiagoantao/js-genepop) [![devDependencies Status](https://david-dm.org/tiagoantao/js-genepop/dev-status.svg)](https://david-dm.org/tiagoantao/js-genepop?type=dev)

## Example usage

```javascript
import GenepopReader from '../src/main'

import {createReadStream} from 'fs'

const my_file = 'put_your_example_here'
const stream = createReadStream(my_file)
const reader = stream.pipe(new GenepopReader({}))
reader.on('data', (data: Buffer) => {
        my_json += data.toString()
    })
    reader.on('end', () => {
        console.log(my_json)
    })
}
```

You might get an output like this:

```json
{"what":"title","val":"Generated by createGenePop.py - (C) Tiago Antao"}
{"what":"loci","val":["136255903","136257048","136257636"]}
{"what":"pop"}
{"what":"ind","ind":"1","geno":[["003","003"],["004","004"],["002","002"]]}
{"what":"ind","ind":"2","geno":[["003","003"],["003","004"],["002","002"]]}
{"what":"ind","ind":"3","geno":[["003","003"],["004","004"],["002","002"]]}
{"what":"ind","ind":"4","geno":[["003","003"],["004","003"],["000","000"]]}
{"what":"pop"}
{"what":"ind","ind":"b1","geno":[["000","000"],["004","004"],["002","002"]]}
{"what":"ind","ind":"b2","geno":[["000","000"],["004","004"],["002","002"]]}
{"what":"ind","ind":"b3","geno":[["000","000"],["004","004"],["002","002"]]}
{"what":"pop"}
{"what":"ind","ind":"1","geno":[["003","003"],["004","004"],["002","002"]]}
{"what":"ind","ind":"2","geno":[["003","003"],["001","004"],["002","002"]]}
{"what":"ind","ind":"3","geno":[["003","002"],["001","001"],["002","002"]]}
{"what":"ind","ind":"4","geno":[["000","000"],["004","004"],["002","002"]]}
{"what":"ind","ind":"5","geno":[["003","003"],["004","004"],["002","002"]]}
```